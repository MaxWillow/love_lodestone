{"version":3,"sources":["webpack:///./js/localStorage.js","webpack:///./js/add-photo.js","webpack:///./js/registration-form.js","webpack:///./js/refs.js","webpack:///./js/login.js","webpack:///./js/api.js","webpack:///./js/swiper.js","webpack:///./js/optionMap.js","webpack:///./js/getMapData.js","webpack:///./js/map.js","webpack:///./js/menu.js","webpack:///./js/index.js","webpack:///./js/getGeoPosition.js","webpack:///./templates/bg_swiper_template.hbs","webpack:///./templates/machPeopleMap.hbs"],"names":["setLocal","settings","isLogin","token","localStorage","setItem","JSON","stringify","getLocal","savedSettings","getItem","parse","verificationLocal","map","document","getElementById","machPeopleUl","querySelector","body","exit","menu","likeBtn","nextBtn","form","password","userLogin","userAge","userTel","fields","querySelectorAll","inputLogin","inputPassword","getUserList","pageNumber","axios","get","headers","authorization","postLikedUser","userID","post","id","center","lat","lng","zoom","minZoom","zoomControl","mapTypeControl","scaleControl","streetViewControl","rotateControl","fullscreenControl","styles","elementType","stylers","color","visibility","featureType","getMapData","MAP","options","dom","this","addMap","google","maps","Map","addMarker","markers","length","forEach","element","infowindow","InfoWindow","content","image_list","full_name","age","phone_number","maxWidth","marker","Marker","position","geo_location","title","type","icon","addListener","open","refs","location","replace","optionMap","data","cleanData","filter","geo","img","e","result","split","Number","getMachPeopleMap","reduce","acc","machPeopleMapHbs","innerHTML","addEventListener","target","nodeName","cord","dataset","panTo","PerfectScrollbar","suppressScrollX","likes","closest","peoples","classList","contains","removeItem","PNotify","defaults","styling","delay","people","addSlidesToSlider","slider","slides","elem","swiperTemplate","appendSlide","addUsers","userList","ids","_id","console","log","handleLikeClick","handleNextClick","setAttribute","slideNext","likedUserID","mainSwiper","realIndex","matched","success","text","bgSwiper","Swiper","speed","slidesPerView","centeredSlides","preventInteractionOnTransition","pagination","el","allowSlidePrev","nextButton","on","init","activeIndex","renderUserList","createSwiper","initMap","submitForm","value","add","remove","preventDefault","login","error","loginLauncher","Dropzone","autoDiscover","prototype","defaultOptions","dictDefaultMessage","dropzone","url","paramName","maxFilesize","maxFiles","file","notice","window","removeAllFiles","addPhoto","myGeoPosition","maximumAge","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","then","coords","latitude","longitude","coordinates","catch","maleGroup","onblur","i","gender","response","reset","registrationForm","Handlebars","module","exports","template","container","depth0","helpers","partials","escapeExpression","lambda","stack1","helper","alias1","alias2","alias3","nullContext","alias4","hooks","helperMissing","call"],"mappings":"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","file":"main.d2c93d020eec5af38c98.js","sourcesContent":["export function setLocal({ isLogin, token }) {\r\n  const settings = { isLogin: isLogin, token: token };\r\n  localStorage.setItem('Login', JSON.stringify(settings));\r\n}\r\nexport function getLocal() {\r\n  const savedSettings = localStorage.getItem('Login');\r\n  const parsedSettings = JSON.parse(savedSettings);\r\n\r\n  return parsedSettings;\r\n}\r\nexport function removeLocal() {\r\n  localStorage.removeItem('Login');\r\n}\r\nexport function verificationLocal() {\r\n  if(getLocal()===null){\r\n    setLocal({ isLogin:false})\r\n  }\r\n}\r\n","import '../../node_modules/dropzone/dist/min/dropzone.min.css';\r\nimport Dropzone from 'dropzone';\r\nimport PNotify from '../../node_modules/pnotify/dist/es/PNotify';\r\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\r\nimport 'pnotify/dist/PNotifyBrightTheme.css';\r\n// import { stringify } from 'querystring';\r\n\r\nimport {\r\n  setLocal,\r\n  getLocal,\r\n  removeLocal,\r\n  verificationLocal,\r\n} from './localStorage';\r\nverificationLocal();\r\nconst isLogin = getLocal().isLogin;\r\n\r\nexport default function() {\r\n  if (!document.querySelector('#ADDPHOTO')) return;\r\n\r\n  Dropzone.autoDiscover = false;\r\n\r\n  Dropzone.prototype.defaultOptions.dictDefaultMessage =\r\n    'Drop your pictures to upload (up to 2 files)';\r\n\r\n  const form = document.querySelector('#my-awesome-dropzone');\r\n\r\n  const token = getLocal().token;\r\n\r\n  const dropzone = new Dropzone(form, {\r\n    url: 'https://venify.herokuapp.com/user/photos/upload',\r\n    headers: {\r\n      authorization: token,\r\n    },\r\n    paramName: 'file',\r\n    maxFilesize: 2,\r\n    maxFiles: 1,\r\n  });\r\n\r\n  dropzone.on('addedfile', function(file) {\r\n    PNotify.notice({\r\n      text: 'Added photo.',\r\n    });\r\n  });\r\n\r\n  dropzone.on('success', function(file) {\r\n    PNotify.notice({\r\n      text: 'Photo downloaded.',\r\n    });\r\n    window.location.replace('./love_lodestone/index.html');\r\n  });\r\n\r\n  dropzone.on('error', function(file) {\r\n    if (!token) {\r\n      PNotify.error({\r\n        text: 'User is not authenticated',\r\n      });\r\n\r\n      this.on('complete', function(file) {\r\n        this.removeAllFiles(true);\r\n      });\r\n    }\r\n  });\r\n}\r\n","import axios from 'axios';\r\nimport PNotify from '../../node_modules/pnotify/dist/es/PNotify';\r\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\r\nimport 'pnotify/dist/PNotifyBrightTheme.css';\r\nimport getGeoPosition from './getGeoPosition';\r\nimport { setLocal, getLocal, removeLocal } from './localStorage';\r\nexport default function() {\r\n  if (!document.querySelector('#REGISTRATION')) return;\r\n  //-----// position\r\n  const onGetPositionSuccess = location => {\r\n    const position = location.coords;\r\n    return [position.latitude, position.longitude];\r\n  };\r\n  const onGetPositionError = error => {\r\n    PNotify.error('Нет прав доступа к геопозиции, регистрация не возможна.');\r\n  };\r\n  let myGeoPosition;\r\n  getGeoPosition()\r\n    .then(onGetPositionSuccess)\r\n    .then(coordinates => {\r\n      myGeoPosition = coordinates;\r\n    })\r\n    .catch(onGetPositionError);\r\n\r\n  const refs = {\r\n    form: document.querySelector('.form'),\r\n    password: document.querySelector('#user-password'),\r\n    userLogin: document.querySelector('#user-login'),\r\n    userAge: document.querySelector('#user-age'),\r\n    userTel: document.querySelector('#user-tel'),\r\n    fields: document.querySelectorAll('.field'),\r\n  };\r\n\r\n  // Validation satrt\r\n  let maleGroup = '';\r\n\r\n  refs.userLogin.onblur = function() {\r\n    refs.userLogin.value.length < 3\r\n      ? refs.userLogin.classList.add('empty') ||\r\n        PNotify.notice({\r\n          text: 'Name must contain at least 3 characters',\r\n        })\r\n      : refs.userLogin.classList.remove('empty');\r\n  };\r\n\r\n  refs.userTel.onblur = function() {\r\n    refs.userTel.value.length !== 10 || !refs.userTel.value.replace(/\\D/g, '')\r\n      ? refs.userTel.classList.add('empty') ||\r\n        PNotify.notice({\r\n          text: 'Number must contain at least 10 symbols and only numbers',\r\n        })\r\n      : refs.userTel.classList.remove('empty');\r\n  };\r\n\r\n  refs.password.onblur = function() {\r\n    if (refs.password.value.length < 8) {\r\n      refs.password.classList.add('empty') ||\r\n        PNotify.notice({\r\n          text: 'Password must contain at least 8 symbols ',\r\n        });\r\n    } else if (\r\n      !refs.password.value.replace(/[^0-9]/g, '') ||\r\n      !refs.password.value.replace(/[^a-zA-Z]/g, '')\r\n    ) {\r\n      refs.password.classList.add('empty') ||\r\n        PNotify.notice({\r\n          text: 'Password must contain at least one number or letter',\r\n        });\r\n    } else {\r\n      refs.password.classList.remove('empty');\r\n    }\r\n  };\r\n\r\n  refs.form.addEventListener('submit', e => {\r\n    e.preventDefault();\r\n    for (let i = 0; i < refs.fields.length; i++) {\r\n      if (!refs.fields[i].value) {\r\n        refs.fields[i].classList.add('empty');\r\n      } else if (refs.userLogin.value.length < 3) {\r\n        refs.userLogin.classList.add('empty');\r\n      } else if (refs.password.value.length < 8) {\r\n        refs.password.classList.add('empty');\r\n      } else {\r\n        refs.fields[i].classList.remove('empty');\r\n      }\r\n    }\r\n\r\n    maleGroup = document.querySelector('[name=\"radioGroupSex\"]:checked');\r\n\r\n    axios\r\n      .post('https://venify.herokuapp.com/user/register', {\r\n        password: refs.password.value,\r\n        login: refs.userLogin.value,\r\n        age: Number(refs.userAge.value),\r\n        phone_number: refs.userTel.value,\r\n        geo_location: myGeoPosition,\r\n        gender: maleGroup.value,\r\n      })\r\n      .then(function(response) {\r\n        setLocal({\r\n          isLogin: true,\r\n          token: response.data.token,\r\n        });\r\n        document.location.replace('./love_lodestone/upload-photo.html');\r\n\r\n        PNotify.notice({\r\n          text: 'Registration success!',\r\n        });\r\n      })\r\n      .catch(function(error) {\r\n        console.log(error);\r\n      });\r\n    refs.form.reset();\r\n  });\r\n}\r\n\r\n/*\r\n\r\nВАЛИДАЦИЯ:\r\nИмя - не меньше трех символов с проверкой _throttle 500ms\r\nТелефон - кол-во символов 10, только цифры. (Проверка при потере фокуса)\r\n\r\nВозраст - только цифры!\r\n\r\n\r\nПароль должен содержать цифры и буквы,\r\nкол-во символов > 8. (Подсказка о наличии цифр и букв в pnotify)\r\n*/\r\n","export default {\r\n  map: document.getElementById('map'),\r\n  machPeopleUl: document.querySelector('.mach__people-ul'),\r\n  body: document.querySelector('body'),\r\n  exit: document.querySelector('body'),\r\n  menu: document.querySelector('.js-menu'),\r\n  likeBtn: document.querySelector('.choose-btn__like'),\r\n  nextBtn: document.querySelector('.choose-btn__next'),\r\n  form: document.querySelector('.form'),\r\n  password: document.querySelector('#user-password'),\r\n  userLogin: document.querySelector('#user-login'),\r\n  userAge: document.querySelector('#user-age'),\r\n  userTel: document.querySelector('#user-tel'),\r\n  fields: document.querySelectorAll('.field'),\r\n  inputLogin: document.querySelector('#form-input'),\r\n  inputPassword: document.querySelector('#password'),\r\n};\r\n","'use strict';\r\nimport axios from 'axios';\r\nimport refs from './refs.js';\r\nimport PNotify from 'pnotify/dist/es/PNotify.js';\r\nimport PNotifyButtons from 'pnotify/dist/es/PNotifyButtons.js';\r\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\r\nimport {\r\n  setLocal,\r\n  getLocal,\r\n  removeLocal,\r\n  verificationLocal,\r\n} from './localStorage';\r\nverificationLocal();\r\nconst isLogin = getLocal().isLogin;\r\nexport function loginLauncher() {\r\n  if (!document.querySelector('#LOGINPAGE')) return;\r\n\r\n  if (refs.body.id === 'LOGINPAGE') {\r\n    if (isLogin) {\r\n      document.location.replace('./love_lodestone/index.html');\r\n    }\r\n  }\r\n  const validation = () => {\r\n    refs.inputPassword.addEventListener('input', e => {\r\n      e.target.value.length < 8\r\n        ? e.target.classList.add('validate-error')\r\n        : e.target.classList.remove('validate-error');\r\n    });\r\n  };\r\n  const validationSubmit = () => {\r\n    refs.inputPassword.classList.add('validate-error');\r\n    PNotify.error({\r\n      text: 'Invalid login or password',\r\n    });\r\n  };\r\n  const submitForm = document.querySelector('.regist-form');\r\n  if (submitForm) {\r\n    validation();\r\n\r\n    submitForm.addEventListener('submit', async e => {\r\n      e.preventDefault();\r\n\r\n      try {\r\n        const userData = await axios.post(\r\n          'https://venify.herokuapp.com/user/login',\r\n          {\r\n            password: refs.inputPassword.value,\r\n            login: refs.inputLogin.value,\r\n          },\r\n        );\r\n        setLocal({ isLogin: true, token: userData.data.token });\r\n        document.location.replace('./love_lodestone/index.html');\r\n      } catch (error) {\r\n        validationSubmit();\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n/*\r\nПоправить валидацию\r\n\r\n*/\r\n","import axios from 'axios';\r\nimport {\r\n  setLocal,\r\n  getLocal,\r\n  removeLocal,\r\n  verificationLocal,\r\n} from './localStorage';\r\nverificationLocal();\r\nconst token = getLocal().token;\r\nexport function getUserList(pageNumber = 1) {\r\n  return axios.get(\r\n    `https://venify.herokuapp.com/user/list?pageNumber=${pageNumber}`,\r\n    {\r\n      headers: {\r\n        authorization: token,\r\n      },\r\n    },\r\n  );\r\n}\r\n\r\nexport function postLikedUser(userID) {\r\n  return axios.post(\r\n    `https://venify.herokuapp.com/user/like`,\r\n    { id: userID },\r\n    {\r\n      headers: {\r\n        authorization: token,\r\n      },\r\n    },\r\n  );\r\n}\r\n","import { getUserList, postLikedUser } from './api';\r\nimport swiperTemplate from '../templates/bg_swiper_template.hbs';\r\nimport 'swiper/css/swiper.min.css';\r\nimport Swiper from 'swiper';\r\nimport PNotify from 'pnotify/dist/es/PNotify.js';\r\nimport PNotifyButtons from 'pnotify/dist/es/PNotifyButtons.js';\r\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\r\nimport refs from './refs';\r\nimport {\r\n  setLocal,\r\n  getLocal,\r\n  removeLocal,\r\n  verificationLocal,\r\n} from './localStorage';\r\nverificationLocal();\r\nconst isLogin = getLocal().isLogin;\r\n\r\nexport function createSwiper() {\r\n  if (!document.querySelector('#MAIN')) return;\r\n  if (!isLogin) {\r\n    document.location.replace('./love_lodestone/login.html');\r\n    return;\r\n  }\r\n  PNotify.defaults.styling = 'material';\r\n  PNotify.defaults.delay = 3500;\r\n\r\n  let pageNumber = 1;\r\n  let people = [];\r\n\r\n  const addSlidesToSlider = (slider, data) => {\r\n    const slides = data.map(elem => {\r\n      return swiperTemplate(elem.image_list[0]);\r\n    });\r\n    slider.appendSlide([...slides]);\r\n  };\r\n\r\n  const addUsers = (userList, data) => {\r\n    const ids = data.map(elem => elem._id);\r\n    console.log('userList', userList);\r\n    console.log('data', data);\r\n    console.log('ids', ids);\r\n\r\n    return [...userList, ...ids];\r\n  };\r\n\r\n  // Запрос данных\r\n  const renderUserList = async () => {\r\n    const { data } = await getUserList();\r\n\r\n    // await console.dir('getUserList - data', data);\r\n    await (people = addUsers(people, data));\r\n    // await console.log('people', people);\r\n\r\n    const bgSwiper = new Swiper('.bg-swiper', {\r\n      speed: 400,\r\n      slidesPerView: 1,\r\n      centeredSlides: true,\r\n      preventInteractionOnTransition: true,\r\n      pagination: {\r\n        el: '.swiper-pagination',\r\n      },\r\n    });\r\n\r\n    const mainSwiper = new Swiper('.main-swiper', {\r\n      speed: 400,\r\n      slidesPerView: 1,\r\n      centeredSlides: true,\r\n      allowSlidePrev: false,\r\n      preventInteractionOnTransition: true,\r\n      pagination: {\r\n        el: '.swiper-pagination',\r\n        nextButton: '.swiper-button-next',\r\n      },\r\n      on: {\r\n        init: function() {\r\n          console.log('swiper initialized');\r\n        },\r\n      },\r\n    });\r\n\r\n    mainSwiper.on('slideChange', async () => {\r\n      const { slides, activeIndex } = mainSwiper;\r\n      console.log(slides, activeIndex);\r\n      console.log(mainSwiper);\r\n\r\n      if (slides.length - activeIndex <= 3) {\r\n        pageNumber += 1;\r\n        const { data } = await getUserList(pageNumber);\r\n        // console.dir(data);\r\n        addUsers(people, data);\r\n        addSlidesToSlider(bgSwiper, data);\r\n        addSlidesToSlider(mainSwiper, data);\r\n      }\r\n    });\r\n\r\n    addSlidesToSlider(bgSwiper, data);\r\n    addSlidesToSlider(mainSwiper, data);\r\n\r\n    const slideNext = () => {\r\n      mainSwiper.slideNext();\r\n      bgSwiper.slideNext();\r\n    };\r\n\r\n    refs.likeBtn.addEventListener('click', handleLikeClick);\r\n\r\n    async function handleLikeClick() {\r\n      const likedUserID = people[mainSwiper.realIndex];\r\n      console.log('mainSwiper.realIndex', mainSwiper.realIndex);\r\n      const { data } = await postLikedUser(likedUserID);\r\n      const { matched } = data;\r\n      console.log('likedUserID', likedUserID);\r\n      console.log('people', people);\r\n\r\n      if (matched) {\r\n        PNotify.success({\r\n          text: 'Congratulate with new matching!',\r\n        });\r\n      }\r\n\r\n      slideNext();\r\n    }\r\n\r\n    refs.nextBtn.addEventListener('click', handleNextClick);\r\n    function handleNextClick() {\r\n      if (data.length === 0) {\r\n        refs.nextBtn.setAttribute('disabled', true);\r\n      }\r\n      slideNext();\r\n    }\r\n  };\r\n\r\n  renderUserList();\r\n}\r\n","export default {\r\n  center: { lat: 50.466511, lng: 30.627141 },\r\n  zoom: 12,\r\n  minZoom: 5,\r\n  zoomControl: false,\r\n  mapTypeControl: false,\r\n  scaleControl: false,\r\n  streetViewControl: false,\r\n  rotateControl: false,\r\n  fullscreenControl: false,\r\n  styles: [\r\n    {\r\n      elementType: 'geometry',\r\n      stylers: [\r\n        {\r\n          color: '#212121',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      elementType: 'labels.icon',\r\n      stylers: [\r\n        {\r\n          visibility: 'off',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      elementType: 'labels.text.fill',\r\n      stylers: [\r\n        {\r\n          color: '#757575',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      elementType: 'labels.text.stroke',\r\n      stylers: [\r\n        {\r\n          color: '#212121',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'administrative',\r\n      elementType: 'geometry',\r\n      stylers: [\r\n        {\r\n          color: '#757575',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'administrative.country',\r\n      elementType: 'labels.text.fill',\r\n      stylers: [\r\n        {\r\n          color: '#9e9e9e',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'administrative.land_parcel',\r\n      stylers: [\r\n        {\r\n          visibility: 'off',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'administrative.locality',\r\n      elementType: 'labels.text.fill',\r\n      stylers: [\r\n        {\r\n          color: '#bdbdbd',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'poi',\r\n      elementType: 'labels.text.fill',\r\n      stylers: [\r\n        {\r\n          color: '#757575',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'poi.park',\r\n      elementType: 'geometry',\r\n      stylers: [\r\n        {\r\n          color: '#181818',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'poi.park',\r\n      elementType: 'labels.text.fill',\r\n      stylers: [\r\n        {\r\n          color: '#616161',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'poi.park',\r\n      elementType: 'labels.text.stroke',\r\n      stylers: [\r\n        {\r\n          color: '#1b1b1b',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'road',\r\n      elementType: 'geometry.fill',\r\n      stylers: [\r\n        {\r\n          color: '#2c2c2c',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'road',\r\n      elementType: 'labels.text.fill',\r\n      stylers: [\r\n        {\r\n          color: '#8a8a8a',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'road.arterial',\r\n      elementType: 'geometry',\r\n      stylers: [\r\n        {\r\n          color: '#373737',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'road.highway',\r\n      elementType: 'geometry',\r\n      stylers: [\r\n        {\r\n          color: '#3c3c3c',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'road.highway.controlled_access',\r\n      elementType: 'geometry',\r\n      stylers: [\r\n        {\r\n          color: '#4e4e4e',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'road.local',\r\n      elementType: 'labels.text.fill',\r\n      stylers: [\r\n        {\r\n          color: '#616161',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'transit',\r\n      elementType: 'labels.text.fill',\r\n      stylers: [\r\n        {\r\n          color: '#757575',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'water',\r\n      elementType: 'geometry',\r\n      stylers: [\r\n        {\r\n          color: '#000000',\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      featureType: 'water',\r\n      elementType: 'labels.text.fill',\r\n      stylers: [\r\n        {\r\n          color: '#3d3d3d',\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n};\r\n","import axios from 'axios';\r\nimport { setLocal, getLocal, removeLocal } from './localStorage';\r\nconst token = getLocal().token;\r\nconst isLogin = getLocal().isLogin;\r\nexport default function getMapData() {\r\n  if (isLogin) {\r\n    return axios.get('https://venify.herokuapp.com/user/mathchedList', {\r\n      headers: {\r\n        authorization: token,\r\n      },\r\n    });\r\n  }\r\n}\r\n","import optionMap from './optionMap.js';\r\nimport machPeopleMapHbs from '../templates/machPeopleMap.hbs';\r\nimport getMapData from './getMapData.js';\r\nimport refs from './refs.js';\r\nimport {\r\n  setLocal,\r\n  getLocal,\r\n  removeLocal,\r\n  verificationLocal,\r\n} from './localStorage';\r\nverificationLocal();\r\nconst isLogin = getLocal().isLogin;\r\n\r\nclass MAP {\r\n  constructor({ options, dom }) {\r\n    this.options = options;\r\n    this.dom = dom;\r\n  }\r\n  addMap() {\r\n    this.map = new google.maps.Map(this.dom, this.options);\r\n  }\r\n  addMarker(markers) {\r\n    if (markers.length === 0) {\r\n      return;\r\n    }\r\n    if (markers.length > 0) {\r\n      markers.forEach(element => {\r\n        let infowindow = new google.maps.InfoWindow({\r\n          content: `\r\n          <div class=\"mach__people-item\">\r\n            <img class=\"mach__people-icon\" src=\"${element.image_list[0]}\" alt=\"\">\r\n            <div class=\"mach__people-main\">\r\n              <div class=\"mach__people-name\">${element.full_name}</div>\r\n              <div class=\"mach__people-age\">Age: ${element.age}</div>\r\n              <div class=\"mach__people-cell\">Cell: ${element.phone_number}</div>\r\n            </div>\r\n          </div>\r\n          `,\r\n          maxWidth: 400,\r\n        });\r\n        let marker = new google.maps.Marker({\r\n          position: element.geo_location,\r\n          map: this.map,\r\n          title: element.full_name,\r\n          type: {\r\n            icon: element.image_list[0],\r\n          },\r\n        });\r\n\r\n        marker.addListener('click', function () {\r\n          infowindow.open(this.map, marker);\r\n        });\r\n      });\r\n    }\r\n  }\r\n}\r\nexport async function initMap() {\r\n  if (refs.body.id !== 'mapHTML') return;\r\n  if (!isLogin) {\r\n    document.location.replace('./love_lodestone/login.html');\r\n    return;\r\n  }\r\n  let map = await new MAP({ dom: refs.map, options: optionMap });\r\n  await map.addMap();\r\n  const { data } = await getMapData();\r\n  const cleanData = data\r\n    .filter(geo => geo.geo_location.length >= 1)\r\n    .filter(img => img.image_list.length >= 1);\r\n  // console.dir(cleanData)\r\n  const markers = cleanData.map(e => {\r\n    let result = e;\r\n    // if (e.geo_location < 2) return;\r\n    if (typeof e.geo_location === 'string') {\r\n      result = e.geo_location.split(', ');\r\n      e.geo_location = {\r\n        lat: Number(result[0]),\r\n        lng: Number(result[1]),\r\n      };\r\n    }\r\n    e.geo_location = {\r\n      lat: e.geo_location[0],\r\n      lng: e.geo_location[1],\r\n    };\r\n    return e;\r\n  });\r\n  const getMachPeopleMap = dom => {\r\n    // console.dir(markers)\r\n    const result = markers.reduce((acc, e) => {\r\n      e.geo_location = {\r\n        lat: e.geo_location.lat,\r\n        lng: e.geo_location.lng,\r\n      };\r\n      return (acc += machPeopleMapHbs(e));\r\n    }, '');\r\n\r\n    dom.innerHTML = result;\r\n  };\r\n\r\n  await getMachPeopleMap(refs.machPeopleUl);\r\n  await map.addMarker(markers);\r\n  refs.machPeopleUl.addEventListener('click', e => {\r\n    if (e.target.nodeName !== 'IMG') return;\r\n    const lat = Number(e.target.dataset.lat);\r\n    const lng = Number(e.target.dataset.lng);\r\n    const cord = { lat, lng };\r\n    map.map.panTo(cord);\r\n  });\r\n\r\n  const ps = new PerfectScrollbar('.section-scroll', {\r\n    suppressScrollX: true,\r\n  });\r\n}\r\n","import refs from './refs.js';\r\nimport { setLocal, getLocal, removeLocal } from './localStorage';\r\nexport function menuClick() {\r\n  if (refs.body.id !== 'mapHTML' && refs.body.id !== 'MAIN') return;\r\n  refs.menu.addEventListener('click', e => {\r\n    const likes = e.target.closest('.js-likes');\r\n    const peoples = e.target.closest('.js-peoples');\r\n    const exit = e.target.closest('.js-exit');\r\n    if (exit.classList.contains('js-exit')) {\r\n      removeLocal();\r\n      document.location.replace('./love_lodestone/login.html');\r\n    }\r\n    if (peoples.classList.contains('js-peoples')) {\r\n      document.location.replace('./love_lodestone/index.html');\r\n    }\r\n    if (likes.classList.contains('js-likes')) {\r\n      document.location.replace('./love_lodestone/location-page.html');\r\n    }\r\n  });\r\n}\r\n","import '../css/styles-registr-add.css';\r\nimport addPhoto from './add-photo';\r\nimport registrationForm from './registration-form';\r\nimport '../css/styles-login.css';\r\nimport '../css/mapStyles.css';\r\nimport '../css/header.css';\r\nimport '../css/footer.css';\r\nimport '../css/general.css';\r\nimport '../css/main_screen.css';\r\nimport { loginLauncher } from './login';\r\nimport { createSwiper } from './swiper';\r\nimport { initMap } from './map.js';\r\nimport { menuClick } from './menu';\r\n\r\nmenuClick();\r\ncreateSwiper();\r\ninitMap();\r\nloginLauncher();\r\naddPhoto();\r\nregistrationForm();\r\n","\r\nexport default function getGeoPosition() {\r\n    const options = { maximumAge: 1800000 };\r\n    return new Promise((resolve, reject) => {\r\n      navigator.geolocation.getCurrentPosition(resolve, reject, options);\r\n    });\r\n  }\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"swiper-slide\\\">\\r\\n    <img src=\\\"\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"\\\" class=\\\"swiper-slide__img\\\" alt=\\\"user photo\\\">\\r\\n</div>\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, alias5=\"function\";\n\n  return \"<li class=\\\"mach__people-li\\\">\\r\\n    <div class=\\\"mach__people-item\\\">\\r\\n        <img class=\\\"mach__people-icon\\\" src=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.image_list : depth0)) != null ? stack1[\"0\"] : stack1), depth0))\n    + \"\\\" alt=\\\"icon\\\" \\r\\n            data-lat=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.geo_location : depth0)) != null ? stack1.lat : stack1), depth0))\n    + \"\\\"\\r\\n            data-lng=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.geo_location : depth0)) != null ? stack1.lng : stack1), depth0))\n    + \"\\\">\\r\\n        <div class=\\\"mach__people-main\\\">\\r\\n            <div class=\\\"mach__people-name\\\">\"\n    + alias2(((helper = (helper = helpers.full_name || (depth0 != null ? depth0.full_name : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"full_name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":43},\"end\":{\"line\":7,\"column\":56}}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"mach__people-age\\\">Age: \"\n    + alias2(((helper = (helper = helpers.age || (depth0 != null ? depth0.age : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"age\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":47},\"end\":{\"line\":8,\"column\":54}}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"mach__people-cell\\\">Cell: \"\n    + alias2(((helper = (helper = helpers.phone_number || (depth0 != null ? depth0.phone_number : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"phone_number\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":49},\"end\":{\"line\":9,\"column\":65}}}) : helper)))\n    + \"</div>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\";\n},\"useData\":true});"],"sourceRoot":""}